
[ROOT CONFTEST] pytest_configure called
[ROOT CONFTEST] Importing minimal models...
[ROOT CONFTEST] Base.metadata.tables: ['account_links', 'account_info', 'audit_logs', 'users', 'entitlement_types', 'user_entitlements', 'stripe_events', 'trades', 'positions', 'equity_points', 'validation_logs']
============================= test session starts =============================
platform win32 -- Python 3.11.9, pytest-8.4.2, pluggy-1.6.0 -- C:\Users\FCumm\NewTeleBotFinal\.venv\Scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\FCumm\NewTeleBotFinal\backend
configfile: pytest.ini
plugins: anyio-4.11.0, locust-2.42.0, asyncio-1.2.0, cov-7.0.0, mock-3.15.1, sugar-1.1.1, timeout-2.4.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
timeout: 60.0s
timeout method: thread
timeout func_only: False
collecting ... collected 34 items

backend\tests\test_pr_016_trade_store.py::TestTradeModelCreation::test_trade_creation_valid PASSED [  2%]
backend\tests\test_pr_016_trade_store.py::TestTradeModelCreation::test_trade_buy_price_relationships PASSED [  5%]
backend\tests\test_pr_016_trade_store.py::TestTradeModelCreation::test_trade_sell_creation PASSED [  8%]
backend\tests\test_pr_016_trade_store.py::TestTradeModelCreation::test_trade_sell_price_relationships PASSED [ 11%]
backend\tests\test_pr_016_trade_store.py::TestTradeModelCreation::test_trade_with_optional_fields PASSED [ 14%]
backend\tests\test_pr_016_trade_store.py::TestTradeModelCreation::test_trade_exit_fields_initially_null PASSED [ 17%]
backend\tests\test_pr_016_trade_store.py::TestTradeModelCreation::test_trade_with_exit_fields PASSED [ 20%]
backend\tests\test_pr_016_trade_store.py::TestTradeModelCreation::test_trade_decimal_precision PASSED [ 23%]
backend\tests\test_pr_016_trade_store.py::TestTradeModelCreation::test_trade_large_volume PASSED [ 26%]
backend\tests\test_pr_016_trade_store.py::TestTradeModelCreation::test_trade_min_volume PASSED [ 29%]
backend\tests\test_pr_016_trade_store.py::TestPositionModel::test_position_creation_buy PASSED [ 32%]
backend\tests\test_pr_016_trade_store.py::TestPositionModel::test_position_creation_sell PASSED [ 35%]
backend\tests\test_pr_016_trade_store.py::TestPositionModel::test_position_multiple_symbols PASSED [ 38%]
backend\tests\test_pr_016_trade_store.py::TestEquityPointModel::test_equity_point_creation PASSED [ 41%]
backend\tests\test_pr_016_trade_store.py::TestEquityPointModel::test_equity_point_with_drawdown PASSED [ 44%]
backend\tests\test_pr_016_trade_store.py::TestEquityPointModel::test_equity_point_max_drawdown PASSED [ 47%]
backend\tests\test_pr_016_trade_store.py::TestEquityPointModel::test_equity_point_recovery PASSED [ 50%]
backend\tests\test_pr_016_trade_store.py::TestValidationLogModel::test_validation_log_creation PASSED [ 52%]
backend\tests\test_pr_016_trade_store.py::TestValidationLogModel::test_validation_log_event_types PASSED [ 55%]
backend\tests\test_pr_016_trade_store.py::TestValidationLogModel::test_validation_log_details_json PASSED [ 58%]
backend\tests\test_pr_016_trade_store.py::TestValidationLogModel::test_validation_log_error_type PASSED [ 61%]
backend\tests\test_pr_016_trade_store.py::TestTradeServiceCRUD::test_create_buy_trade_valid FAILED [ 64%]

================================== FAILURES ===================================
______________ TestTradeServiceCRUD.test_create_buy_trade_valid _______________
.venv\Lib\site-packages\sqlalchemy\orm\mapper.py:2522: in get_property
    return self._props[key]
           ^^^^^^^^^^^^^^^^
E   KeyError: 'endorsements_given'
        _configure_mappers = False
        key        = 'endorsements_given'
        self       = <Mapper at 0x21a1a632a90; User>

The above exception was the direct cause of the following exception:
backend\tests\test_pr_016_trade_store.py:415: in test_create_buy_trade_valid
    trade = await service.create_trade(
        db_session = <sqlalchemy.orm.session.AsyncSession object at 0x0000021A1B897F90>
        self       = <backend.tests.test_pr_016_trade_store.TestTradeServiceCRUD object at 0x0000021A1AFC1150>
        service    = <backend.app.trading.store.service.TradeService object at 0x0000021A1B074350>
backend\app\trading\store\service.py:107: in create_trade
    trade = Trade(
        device_id  = None
        entry_comment = None
        entry_price = Decimal('1950.50')
        entry_time = datetime.datetime(2025, 11, 3, 16, 11, 52, 980948)
        self       = <backend.app.trading.store.service.TradeService object at 0x0000021A1B074350>
        setup_id   = None
        signal_id  = None
        stop_loss  = Decimal('1945.00')
        strategy   = 'manual'
        symbol     = 'GOLD'
        take_profit = Decimal('1960.00')
        timeframe  = 'H1'
        trade_type = 'BUY'
        user_id    = 'd64e4933-54be-4c6e-8916-aefd3a875bf3'
        uuid4      = <function uuid4 at 0x0000021A1541C9A0>
        volume     = Decimal('1.0')
<string>:4: in __init__
    ???
        kwargs     = {'device_id': None,
 'direction': 0,
 'entry_comment': None,
 'entry_price': Decimal('1950.50'),
 'entry_time': datetime.datetime(2025, 11, 3, 16, 11, 52, 980948),
 'setup_id': None,
 'signal_id': None,
 'status': 'OPEN',
 'stop_loss': Decimal('1945.00'),
 'strategy': 'manual',
 'symbol': 'GOLD',
 'take_profit': Decimal('1960.00'),
 'timeframe': 'H1',
 'trade_type': 'BUY',
 'user_id': 'd64e4933-54be-4c6e-8916-aefd3a875bf3',
 'volume': Decimal('1.0')}
        new_state  = <sqlalchemy.orm.state.InstanceState object at 0x0000021A1B736090>
        self       = <Trade None: None None None (OPEN)>
.venv\Lib\site-packages\sqlalchemy\orm\state.py:566: in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
        args       = ()
        instance   = <Trade None: None None None (OPEN)>
        kwargs     = {'device_id': None,
 'direction': 0,
 'entry_comment': None,
 'entry_price': Decimal('1950.50'),
 'entry_time': datetime.datetime(2025, 11, 3, 16, 11, 52, 980948),
 'setup_id': None,
 'signal_id': None,
 'status': 'OPEN',
 'stop_loss': Decimal('1945.00'),
 'strategy': 'manual',
 'symbol': 'GOLD',
 'take_profit': Decimal('1960.00'),
 'timeframe': 'H1',
 'trade_type': 'BUY',
 'user_id': 'd64e4933-54be-4c6e-8916-aefd3a875bf3',
 'volume': Decimal('1.0')}
        manager    = <ClassManager of <class 'backend.app.trading.store.models.Trade'> at 21a1ad88710>
        mixed      = (<sqlalchemy.orm.state.InstanceState object at 0x0000021A1B736090>,
 <Trade None: None None None (OPEN)>)
        self       = <sqlalchemy.orm.state.InstanceState object at 0x0000021A1B736090>
.venv\Lib\site-packages\sqlalchemy\event\attr.py:515: in __call__
    fn(*args, **kw)
        args       = (<sqlalchemy.orm.state.InstanceState object at 0x0000021A1B736090>,
 (),
 {'device_id': None,
  'direction': 0,
  'entry_comment': None,
  'entry_price': Decimal('1950.50'),
  'entry_time': datetime.datetime(2025, 11, 3, 16, 11, 52, 980948),
  'setup_id': None,
  'signal_id': None,
  'status': 'OPEN',
  'stop_loss': Decimal('1945.00'),
  'strategy': 'manual',
  'symbol': 'GOLD',
  'take_profit': Decimal('1960.00'),
  'timeframe': 'H1',
  'trade_type': 'BUY',
  'user_id': 'd64e4933-54be-4c6e-8916-aefd3a875bf3',
  'volume': Decimal('1.0')})
        fn         = <function _event_on_init at 0x0000021A18A9E700>
        kw         = {}
        self       = <sqlalchemy.event.attr._ListenerCollection object at 0x0000021A1AD829C0>
.venv\Lib\site-packages\sqlalchemy\orm\mapper.py:4410: in _event_on_init
    instrumenting_mapper._check_configure()
        args       = ()
        instrumenting_mapper = <Mapper at 0x21a1ad9c810; Trade>
        kwargs     = {'device_id': None,
 'direction': 0,
 'entry_comment': None,
 'entry_price': Decimal('1950.50'),
 'entry_time': datetime.datetime(2025, 11, 3, 16, 11, 52, 980948),
 'setup_id': None,
 'signal_id': None,
 'status': 'OPEN',
 'stop_loss': Decimal('1945.00'),
 'strategy': 'manual',
 'symbol': 'GOLD',
 'take_profit': Decimal('1960.00'),
 'timeframe': 'H1',
 'trade_type': 'BUY',
 'user_id': 'd64e4933-54be-4c6e-8916-aefd3a875bf3',
 'volume': Decimal('1.0')}
        state      = <sqlalchemy.orm.state.InstanceState object at 0x0000021A1B736090>
.venv\Lib\site-packages\sqlalchemy\orm\mapper.py:2401: in _check_configure
    _configure_registries({self.registry}, cascade=True)
        self       = <Mapper at 0x21a1ad9c810; Trade>
.venv\Lib\site-packages\sqlalchemy\orm\mapper.py:4218: in _configure_registries
    _do_configure_registries(registries, cascade)
        cascade    = True
        reg        = <sqlalchemy.orm.decl_api.registry object at 0x0000021A1A470250>
        registries = set()
.venv\Lib\site-packages\sqlalchemy\orm\mapper.py:4259: in _do_configure_registries
    mapper._post_configure_properties()
        cascade    = True
        exc        = InvalidRequestError("Mapper 'Mapper[User(users)]' has no property 'endorsements_given'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.")
        has_skip   = False
        mapper     = <Mapper at 0x21a1b81d2d0; Endorsement>
        orig       = {<sqlalchemy.orm.decl_api.registry object at 0x0000021A1A470250>}
        reg        = <sqlalchemy.orm.decl_api.registry object at 0x0000021A1A470250>
        registries = set()
        registry   = <class 'sqlalchemy.orm.decl_api.registry'>
        run_configure = None
.venv\Lib\site-packages\sqlalchemy\orm\mapper.py:2418: in _post_configure_properties
    prop.init()
        key        = 'endorser'
        l          = [('endorser', <_RelationshipDeclared at 0x21a1b7fed50; endorser>),
 ('endorsee', <_RelationshipDeclared at 0x21a1b7fedf0; endorsee>),
 ('id', <ColumnProperty at 0x21a1b800b40; id>),
 ('endorser_id', <ColumnProperty at 0x21a1b7a8940; endorser_id>),
 ('endorsee_id', <ColumnProperty at 0x21a1b800c40; endorsee_id>),
 ('weight', <ColumnProperty at 0x21a1b800e40; weight>),
 ('reason', <ColumnProperty at 0x21a1b800740; reason>),
 ('created_at', <ColumnProperty at 0x21a1b800640; created_at>),
 ('revoked_at', <ColumnProperty at 0x21a1b800840; revoked_at>)]
        prop       = <_RelationshipDeclared at 0x21a1b7fed50; endorser>
        self       = <Mapper at 0x21a1b81d2d0; Endorsement>
.venv\Lib\site-packages\sqlalchemy\orm\interfaces.py:595: in init
    self.do_init()
        self       = <_RelationshipDeclared at 0x21a1b7fed50; endorser>
.venv\Lib\site-packages\sqlalchemy\orm\relationships.py:1660: in do_init
    self._generate_backref()
        __class__  = <class 'sqlalchemy.orm.relationships.RelationshipProperty'>
        self       = <_RelationshipDeclared at 0x21a1b7fed50; endorser>
.venv\Lib\site-packages\sqlalchemy\orm\relationships.py:2144: in _generate_backref
    self._add_reverse_property(self.back_populates)
        self       = <_RelationshipDeclared at 0x21a1b7fed50; endorser>
.venv\Lib\site-packages\sqlalchemy\orm\relationships.py:1591: in _add_reverse_property
    other = self.mapper.get_property(key, _configure_mappers=False)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        key        = 'endorsements_given'
        self       = <_RelationshipDeclared at 0x21a1b7fed50; endorser>
.venv\Lib\site-packages\sqlalchemy\orm\mapper.py:2524: in get_property
    raise sa_exc.InvalidRequestError(
E   sqlalchemy.exc.InvalidRequestError: Mapper 'Mapper[User(users)]' has no property 'endorsements_given'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
        _configure_mappers = False
        key        = 'endorsements_given'
        self       = <Mapper at 0x21a1a632a90; User>
---------------------------- Captured stdout setup ----------------------------

[ROOT CONFTEST] db_session fixture CALLED!
[2025-11-03 16:11:51] INFO     backend.app.observability.metrics - Metrics collector initialized
[ROOT CONFTEST] Tables created!
============================== warnings summary ===============================
backend\app\accounts\service.py:49
  C:\Users\FCumm\NewTeleBotFinal\backend\app\accounts\service.py:49: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class AccountLinkOut(BaseModel):

backend\app\accounts\service.py:63
  C:\Users\FCumm\NewTeleBotFinal\backend\app\accounts\service.py:63: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class AccountInfoOut(BaseModel):

tests/test_pr_016_trade_store.py::TestTradeServiceCRUD::test_create_buy_trade_valid
  C:\Users\FCumm\NewTeleBotFinal\backend\app\affiliates\schema.py:8: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class AffiliateOut(BaseModel):

tests/test_pr_016_trade_store.py::TestTradeServiceCRUD::test_create_buy_trade_valid
  C:\Users\FCumm\NewTeleBotFinal\backend\app\affiliates\schema.py:27: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class ReferralOut(BaseModel):

tests/test_pr_016_trade_store.py::TestTradeServiceCRUD::test_create_buy_trade_valid
  C:\Users\FCumm\NewTeleBotFinal\backend\app\affiliates\schema.py:43: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class CommissionOut(BaseModel):

tests/test_pr_016_trade_store.py::TestTradeServiceCRUD::test_create_buy_trade_valid
  C:\Users\FCumm\NewTeleBotFinal\backend\app\affiliates\schema.py:69: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class PayoutOut(BaseModel):

tests/test_pr_016_trade_store.py::TestTradeServiceCRUD::test_create_buy_trade_valid
  C:\Users\FCumm\NewTeleBotFinal\backend\app\alerts\service.py:565: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator("symbol")

tests/test_pr_016_trade_store.py::TestTradeServiceCRUD::test_create_buy_trade_valid
  C:\Users\FCumm\NewTeleBotFinal\backend\app\alerts\service.py:581: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class AlertOut(BaseModel):

tests/test_pr_016_trade_store.py::TestTradeServiceCRUD::test_create_buy_trade_valid
  C:\Users\FCumm\NewTeleBotFinal\backend\app\approvals\schema.py:21: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class ApprovalOut(BaseModel):

tests/test_pr_016_trade_store.py::TestTradeServiceCRUD::test_create_buy_trade_valid
tests/test_pr_016_trade_store.py::TestTradeServiceCRUD::test_create_buy_trade_valid
tests/test_pr_016_trade_store.py::TestTradeServiceCRUD::test_create_buy_trade_valid
  C:\Users\FCumm\NewTeleBotFinal\.venv\Lib\site-packages\pydantic\_internal\_generate_schema.py:319: PydanticDeprecatedSince20: `json_encoders` is deprecated. See https://docs.pydantic.dev/2.12/concepts/serialization/#custom-serializers for alternatives. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    warnings.warn(

tests/test_pr_016_trade_store.py::TestTradeServiceCRUD::test_create_buy_trade_valid
  C:\Users\FCumm\NewTeleBotFinal\backend\app\signals\schema.py:61: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator("instrument")

tests/test_pr_016_trade_store.py::TestTradeServiceCRUD::test_create_buy_trade_valid
  C:\Users\FCumm\NewTeleBotFinal\backend\app\signals\schema.py:81: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator("payload")

tests/test_pr_016_trade_store.py::TestTradeServiceCRUD::test_create_buy_trade_valid
  C:\Users\FCumm\NewTeleBotFinal\backend\app\signals\schema.py:21: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class SignalCreate(BaseModel):

tests/test_pr_016_trade_store.py::TestTradeServiceCRUD::test_create_buy_trade_valid
  C:\Users\FCumm\NewTeleBotFinal\backend\app\signals\schema.py:108: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class SignalOut(BaseModel):

tests/test_pr_016_trade_store.py::TestTradeServiceCRUD::test_create_buy_trade_valid
  C:\Users\FCumm\NewTeleBotFinal\backend\app\clients\devices\schema.py:16: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class DeviceOut(BaseModel):

tests/test_pr_016_trade_store.py::TestTradeServiceCRUD::test_create_buy_trade_valid
  C:\Users\FCumm\NewTeleBotFinal\backend\app\clients\exec\schema.py:34: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class ExecutionRecordOut(BaseModel):

tests/test_pr_016_trade_store.py::TestTradeServiceCRUD::test_create_buy_trade_valid
  C:\Users\FCumm\NewTeleBotFinal\backend\app\telegram\schema.py:27: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class TelegramMessage(BaseModel):

tests/test_pr_016_trade_store.py::TestTradeServiceCRUD::test_create_buy_trade_valid
  C:\Users\FCumm\NewTeleBotFinal\backend\app\telegram\schema.py:42: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class TelegramCallback(BaseModel):

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
============================ slowest 15 durations =============================
1.20s setup    tests/test_pr_016_trade_store.py::TestTradeServiceCRUD::test_create_buy_trade_valid
0.11s call     tests/test_pr_016_trade_store.py::TestTradeServiceCRUD::test_create_buy_trade_valid
0.02s call     tests/test_pr_016_trade_store.py::TestTradeModelCreation::test_trade_creation_valid
0.00s teardown tests/test_pr_016_trade_store.py::TestTradeServiceCRUD::test_create_buy_trade_valid
0.00s call     tests/test_pr_016_trade_store.py::TestTradeModelCreation::test_trade_with_optional_fields
0.00s setup    tests/test_pr_016_trade_store.py::TestTradeModelCreation::test_trade_creation_valid
0.00s call     tests/test_pr_016_trade_store.py::TestTradeModelCreation::test_trade_exit_fields_initially_null
0.00s setup    tests/test_pr_016_trade_store.py::TestEquityPointModel::test_equity_point_max_drawdown
0.00s setup    tests/test_pr_016_trade_store.py::TestTradeModelCreation::test_trade_exit_fields_initially_null
0.00s setup    tests/test_pr_016_trade_store.py::TestTradeModelCreation::test_trade_min_volume
0.00s setup    tests/test_pr_016_trade_store.py::TestTradeModelCreation::test_trade_with_optional_fields
0.00s teardown tests/test_pr_016_trade_store.py::TestValidationLogModel::test_validation_log_error_type
0.00s call     tests/test_pr_016_trade_store.py::TestPositionModel::test_position_multiple_symbols
0.00s setup    tests/test_pr_016_trade_store.py::TestEquityPointModel::test_equity_point_with_drawdown
0.00s teardown tests/test_pr_016_trade_store.py::TestTradeModelCreation::test_trade_large_volume
=========================== short test summary info ===========================
FAILED backend\tests\test_pr_016_trade_store.py::TestTradeServiceCRUD::test_create_buy_trade_valid - sqlalchemy.exc.InvalidRequestError: Mapper 'Mapper[User(users)]' has no property 'endorsements_given'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 1 failures !!!!!!!!!!!!!!!!!!!!!!!!!!
================== 1 failed, 21 passed, 20 warnings in 2.26s ==================
