[pytest]
pythonpath = .
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
asyncio_mode = strict
# Hard kill any test that runs too long and dump stacks of all threads
# Windows doesn't support signal.SIGALRM (Unix-only), use thread method instead
timeout = 300
timeout_method = thread
addopts = -vv --maxfail=999 --durations=15 --showlocals --tb=short
markers =
    asyncio: mark test as requiring asyncio
    no_asyncio: mark test as NOT requiring asyncio (sync TestClient tests)
