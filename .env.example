# Environment Configuration
# Copy this to .env and update with your local values

# ============================================================================
# APPLICATION
# ============================================================================
APP_ENV=development
APP_NAME=trading-signal-platform
APP_VERSION=0.1.0
APP_LOG_LEVEL=INFO
DEBUG=false

# ============================================================================
# DATABASE
# ============================================================================
# PostgreSQL (Production)
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=trading_db
POSTGRES_PORT=5432
DATABASE_URL=postgresql+psycopg://postgres:postgres@localhost:5432/trading_db

# SQLite (Testing)
# DATABASE_URL=sqlite+aiosqlite:///:memory:

# ============================================================================
# REDIS
# ============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_PORT=6379

# ============================================================================
# SECURITY
# ============================================================================
# JWT Configuration
JWT_SECRET_KEY=your-super-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# Hashing
ARGON2_TIME_COST=2
ARGON2_MEMORY_COST=65536
ARGON2_PARALLELISM=4

# ============================================================================
# SECRETS & PROVIDERS
# ============================================================================
SECRETS_PROVIDER=dotenv  # Options: dotenv, vault, kms
# For production, use: vault or kms

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
AUTH_RATE_LIMIT_REQUESTS_PER_MINUTE=10

# ============================================================================
# OBSERVABILITY
# ============================================================================
# OpenTelemetry
OTEL_ENABLED=false
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318

# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# ============================================================================
# TELEGRAM
# ============================================================================
TELEGRAM_BOT_TOKEN=your-bot-token-here
TELEGRAM_WEBHOOK_URL=https://your-domain.com/webhook/telegram
TELEGRAM_WEBHOOK_SECRET=your-webhook-secret

# ============================================================================
# STRIPE (Payment Processing)
# ============================================================================
STRIPE_PUBLIC_KEY=pk_test_xxx
STRIPE_SECRET_KEY=sk_test_xxx
STRIPE_WEBHOOK_SECRET=whsec_test_xxx

# ============================================================================
# MT5 (MetaTrader 5)
# ============================================================================
MT5_LOGIN=12345678
MT5_PASSWORD=your-password
MT5_SERVER=ICMarketsSC-Demo
MT5_PATH=C:\Program Files\MetaTrader 5
MT5_MAX_FAILURES=5
MT5_BACKOFF_SECONDS=300

# ============================================================================
# TRADING PARAMETERS
# ============================================================================
DEFAULT_MARKET_TZ=America/New_York

# Risk Management (PR-074)
# MAX_DRAWDOWN_PERCENT: Maximum allowed drawdown before blocking trades (default 20%)
# MIN_EQUITY_GBP: Minimum equity floor required to continue trading (default Â£500)
# Adjust based on risk tolerance: 10% = conservative, 20% = moderate, 30% = aggressive
MAX_DRAWDOWN_PERCENT=20
MIN_EQUITY_GBP=500

MAX_POSITION_SIZE_PERCENT=5
MIN_STOP_DISTANCE_POINTS=20
ORDER_EXPIRY_HOURS=24
RR_RATIO=2.0

# ============================================================================
# ENVIRONMENT-SPECIFIC
# ============================================================================
# Development
# DATABASE_URL=sqlite+aiosqlite:///:memory:

# Staging
# DATABASE_URL=postgresql+psycopg://user:pass@staging-db:5432/trading_db
# APP_ENV=staging

# Production (use secrets manager)
# DATABASE_URL=<from-vault>
# APP_ENV=production
# DEBUG=false
