[ROOT CONFTEST] pytest_configure called
[ROOT CONFTEST] Importing minimal models...
[ROOT CONFTEST] Base.metadata.tables: ['users', 'signals', 'devices', 'clients', 'account_links', 'account_info', 'approvals', 'risk_profiles', 'exposure_snapshots', 'trades', 'positions', 'equity_points', 'validation_logs', 'audit_logs', 'entitlement_types', 'user_entitlements', 'stripe_events', 'executions', 'feature_snapshots', 'anomaly_events', 'badges', 'earned_badges', 'levels', 'leaderboard_optins', 'paper_accounts', 'paper_positions', 'paper_trades', 'user_preferences', 'decision_logs', 'strategy_versions', 'canary_configs', 'shadow_decision_logs', 'open_positions', 'close_commands', 'endorsements', 'user_trust_scores', 'trust_calculation_logs', 'verification_edges', 'recommendations', 'experiments', 'variants', 'exposures', 'kb_articles', 'kb_tags', 'kb_article_tags', 'kb_article_versions', 'kb_attachments', 'kb_article_views', 'ai_chat_sessions', 'ai_chat_messages', 'ai_kb_embeddings', 'feature_flags']
============================= test session starts =============================
platform win32 -- Python 3.11.9, pytest-8.4.2, pluggy-1.6.0 -- C:\Users\FCumm\NewTeleBotFinal\.venv\Scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\FCumm\NewTeleBotFinal\backend
configfile: pytest.ini
plugins: anyio-4.11.0, locust-2.42.0, asyncio-1.2.0, cov-7.0.0, mock-3.15.1, sugar-1.1.1, timeout-2.4.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
timeout: 10.0s
timeout method: thread
timeout func_only: False
collecting ... collected 6351 items

backend\tests\backtest\test_backtest_adapters.py::test_csv_adapter_loads_valid_file PASSED [  0%]
backend\tests\backtest\test_backtest_adapters.py::test_csv_adapter_filters_by_date_range PASSED [  0%]
backend\tests\backtest\test_backtest_adapters.py::test_csv_adapter_validates_schema PASSED [  0%]
backend\tests\backtest\test_backtest_adapters.py::test_csv_adapter_raises_on_empty_result PASSED [  0%]
backend\tests\backtest\test_backtest_adapters.py::test_csv_adapter_raises_on_missing_file PASSED [  0%]
backend\tests\backtest\test_backtest_adapters.py::test_csv_adapter_handles_symbol_mismatch PASSED [  0%]
backend\tests\backtest\test_backtest_adapters.py::test_parquet_adapter_loads_valid_file PASSED [  0%]
backend\tests\backtest\test_backtest_adapters.py::test_parquet_adapter_filters_by_date_range PASSED [  0%]
backend\tests\backtest\test_backtest_adapters.py::test_parquet_adapter_validates_schema PASSED [  0%]
backend\tests\backtest\test_backtest_adapters.py::test_parquet_adapter_raises_on_missing_file PASSED [  0%]
backend\tests\backtest\test_backtest_adapters.py::test_csv_adapter_handles_no_symbol_column PASSED [  0%]
backend\tests\backtest\test_backtest_adapters.py::test_parquet_adapter_handles_timezone_naive_timestamps PASSED [  0%]
backend\tests\backtest\test_backtest_adapters.py::test_csv_adapter_preserves_column_order PASSED [  0%]
backend\tests\backtest\test_backtest_adapters.py::test_parquet_adapter_filters_multi_symbol_file PASSED [  0%]
backend\tests\backtest\test_backtest_runner.py::test_position_update_pnl_long PASSED [  0%]
backend\tests\backtest\test_backtest_runner.py::test_position_update_pnl_short PASSED [  0%]
backend\tests\backtest\test_backtest_runner.py::test_position_stop_loss_triggers_long PASSED [  0%]
backend\tests\backtest\test_backtest_runner.py::test_position_take_profit_triggers_long PASSED [  0%]
backend\tests\backtest\test_backtest_runner.py::test_position_stop_loss_triggers_short PASSED [  0%]
backend\tests\backtest\test_backtest_runner.py::test_position_take_profit_triggers_short PASSED [  0%]
backend\tests\backtest\test_backtest_runner.py::test_backtest_report_calculates_basic_metrics PASSED [  0%]
backend\tests\backtest\test_backtest_runner.py::test_backtest_report_calculates_drawdown PASSED [  0%]
backend\tests\backtest\test_backtest_runner.py::test_backtest_report_handles_no_trades PASSED [  0%]
backend\tests\backtest\test_backtest_runner.py::test_backtest_report_calculates_sharpe_ratio PASSED [  0%]
backend\tests\backtest\test_backtest_runner.py::test_backtest_report_calculates_sortino_ratio PASSED [  0%]
backend\tests\backtest\test_backtest_runner.py::test_backtest_report_calculates_calmar_ratio PASSED [  0%]
backend\tests\backtest\test_backtest_runner.py::test_backtest_report_exports_to_html PASSED [  0%]
backend\tests\backtest\test_backtest_runner.py::test_backtest_report_exports_to_csv PASSED [  0%]
backend\tests\backtest\test_backtest_runner.py::test_backtest_report_exports_to_json PASSED [  0%]
backend\tests\backtest\test_backtest_runner.py::test_backtest_runner_raises_on_invalid_strategy PASSED [  0%]
backend\tests\backtest\test_backtest_runner.py::test_backtest_runner_respects_position_limits PASSED [  0%]
backend\tests\backtest\test_backtest_runner.py::test_backtest_config_defaults PASSED [  0%]
backend\tests\backtest\test_backtest_runner.py::test_backtest_report_matches_golden_metrics PASSED [  0%]
backend\tests\integration\test_close_commands.py::test_poll_close_commands_no_pending 